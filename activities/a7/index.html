<!DOCTYPE html>  
<html lang="US">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>a7-gesture</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style id="mkstylesheet">
body{-webkit-font-smoothing:antialiased;font-family:"Helvetica Neue",Helvetica,Arial,Verdana,sans-serif;margin:30px 0 0;padding:0;background:#fff}#wrapper{padding:20px}li{font-size:110%}li li{font-size:100%}li p{font-size:100%;margin:.5em 0}h1{color:#000}h2{color:#111}h3{color:#111;margin:0}h4{color:#111}h5{color:#111}h6{font-size:1em;line-height:1.5em;margin:1.5em 0}body,p,td,div{color:#111;font-family:"Helvetica Neue",Helvetica,Arial,Verdana,sans-serif;word-wrap:break-word}a{color:#0d6ea1;text-decoration:none;-webkit-transition:color .2s ease-in-out;-moz-transition:color .2s ease-in-out;-o-transition:color .2s ease-in-out;-ms-transition:color .2s ease-in-out;transition:color .2s ease-in-out}a:hover{color:#3593d9}body{font-size:15px;line-height:21px;margin:0 auto}h1{font-size:37px;line-height:42px;margin-top:42px;margin-bottom:21px}h2{font-size:27px;line-height:42px;margin-top:42px;margin-bottom:21px}h3{font-size:20px;line-height:21px;margin-top:21px;margin-bottom:21px}h4{font-size:20px;line-height:21px;margin-top:21px;margin-bottom:21px}p,ul,ol,pre,table,blockquote{margin-top:21px;margin-bottom:21px}hr{border:1px solid;margin:-1px 0}ul ul,ol ol,ul ol,ol ul{margin-top:0;margin-bottom:0}b,strong,em,small,code{line-height:1}.footnote{color:#0d6ea1;font-size:.8em;vertical-align:super}abbr,acronym{border-bottom:1px dotted #aaa}#wrapper img{max-width:100%;height:auto}dd{font-size:1em;margin-bottom:1em}li>p:first-of-type{margin:0}li p+p{margin-top:16px}ul,ol{padding-left:1.5em}#wrapper ol{list-style-position:outside}ul ul,ul ol{margin-bottom:.4em}caption,col,colgroup,table,tbody,td,tfoot,th,thead,tr{border-spacing:0}table{border:1px solid rgba(0,0,0,0.25);border-collapse:collapse;display:table;empty-cells:hide;margin:-1px 0 1.3125em;padding:0;table-layout:fixed}caption{display:table-caption;font-weight:700}col{display:table-column}colgroup{display:table-column-group}tbody{display:table-row-group}tfoot{display:table-footer-group}thead{display:table-header-group}td,th{display:table-cell}tr{display:table-row}table th,table td{font-size:1.1em;line-height:1.3;padding:.5em 1em 0}table thead{background:rgba(0,0,0,0.15);border:1px solid rgba(0,0,0,0.15);border-bottom:1px solid rgba(0,0,0,0.2)}table tbody{background:rgba(0,0,0,0.05)}table tfoot{background:rgba(0,0,0,0.15);border:1px solid rgba(0,0,0,0.15);border-top:1px solid rgba(0,0,0,0.2)}figure{display:inline-block;overflow:hidden;position:relative;margin:1em 0 2em}figcaption{font-style:italic;text-align:center;background:white;color:#666}.poetry pre{display:block;font-family:Georgia,Garamond,serif !important;font-size:110% !important;font-style:italic;line-height:1.6em;margin-left:1em}.poetry pre code{font-family:Georgia,Garamond,serif !important;word-break:break-all;word-break:break-word;-webkit-hyphens:auto;-moz-hyphens:auto;hyphens:auto;white-space:pre-wrap}blockquote p{font-size:110%;font-style:italic;line-height:1.6em}sup,sub,a.footnote{font-size:1.4ex;height:0;line-height:1;position:relative;vertical-align:super}sub{vertical-align:sub;top:-1px}p,h5{font-size:1.1429em;line-height:1.3125em;margin:1.3125em 0}dt,th{font-weight:700}table tr:nth-child(odd),table th:nth-child(odd),table td:nth-child(odd){background:rgba(255,255,255,0.06)}table tr:nth-child(even),table td:nth-child(even){background:rgba(200,200,200,0.25)}@media print{img,table,figure{page-break-inside:avoid}#wrapper{background:#fff;color:#303030;padding:10px;position:relative;text-indent:0}}@media screen{.inverted{background:#252a2a}.inverted #wrapper{background:#252a2a;color:#eee}.inverted hr{border-color:#333f40 !important}.inverted p,.inverted td,.inverted li,.inverted h1,.inverted h2,.inverted h3,.inverted h4,.inverted h5,.inverted h6,.inverted th,.inverted .math,.inverted caption,.inverted dt,.inverted dd{color:#eee}.inverted pre{background:#ccc;color:#111}.inverted table{background:none}.inverted table tr:nth-child(odd),.inverted table td:nth-child(odd){background:none}.inverted a{color:#acd1d5}::selection{background:rgba(157,193,200,0.5)}h1::selection{background-color:rgba(45,156,208,0.3)}h2::selection{background-color:rgba(90,182,224,0.3)}h3::selection,h4::selection,h5::selection,h6::selection,li::selection,ol::selection{background-color:rgba(133,201,232,0.3)}code::selection{background-color:rgba(0,0,0,0.7);color:#eee}code span::selection{background-color:rgba(0,0,0,0.7) !important;color:#eee !important}a::selection{background-color:rgba(255,230,102,0.2)}.inverted a::selection{background-color:rgba(255,230,102,0.6)}td::selection,th::selection,caption::selection{background-color:rgba(180,237,95,0.5)}}.mkstyle--swiss #wrapper aside.blurb:before{margin-top:.7em}
#mkreplaced-toc{list-style-position:inside;padding:0;margin:0 0 0 1rem;list-style-type:none}#mkreplaced-toc li::before{content:''}#mkreplaced-toc li{font-size:1rem;line-height:1.25;font-weight:normal}#mkreplaced-toc li ul{font-size:1.3rem;font-weight:300;padding:.5rem 0;margin:0 0 0 1rem}#mkreplaced-toc li.missing{list-style-type:none !important}#mkreplaced-toc.max-1 ul,#mkreplaced-toc.max1 ul{display:none}#mkreplaced-toc.max-2 ul ul,#mkreplaced-toc.max2 ul ul{display:none}#mkreplaced-toc.max-3 ul ul ul,#mkreplaced-toc.max3 ul ul ul{display:none}#mkreplaced-toc.max-4 ul ul ul ul,#mkreplaced-toc.max4 ul ul ul ul{display:none}#mkreplaced-toc.max-5 ul ul ul ul ul,#mkreplaced-toc.max5 ul ul ul ul ul{display:none}.mk-rtl{direction:rtl;text-align:right}.mkprinting,.mkprinting #wrapper{height:auto;margin-bottom:0;padding-bottom:0}.hideProgress #generated-toc,.hideProgress #firstdiff,.hideProgress #toc-title,.hideProgress #mkdocumentprogress,.hideProgress #mkincludechart,.hideProgress #mkprogressbar1,.hideProgress #mkprogressbar2,.hideProgress b.bookmark,.hideProgress .mkscrollmeter,.hideProgress #alllinks,.hideProgress #criticnav,.hideProgress .popup,.hideProgress #progressindicator,.hideProgress #mkautoscroll,.mkprinting #generated-toc,.mkprinting #firstdiff,.mkprinting #toc-title,.mkprinting #mkdocumentprogress,.mkprinting #mkincludechart,.mkprinting #mkprogressbar1,.mkprinting #mkprogressbar2,.mkprinting b.bookmark,.mkprinting .mkscrollmeter,.mkprinting #alllinks,.mkprinting #criticnav,.mkprinting .popup,.mkprinting #progressindicator,.mkprinting #mkautoscroll{display:none !important}@media print{body{background:white;line-height:1.4}html,body,#wrapper{-moz-box-shadow:none;-webkit-box-shadow:none;box-shadow:none;-webkit-perspective:none !important;-webkit-text-size-adjust:none;border:0;box-sizing:border-box;float:none;margin:0;max-width:100%;padding:10px 0 0;width:auto}.critic #wrapper mark.crit{background-color:#fffd38 !important;text-decoration:none;color:#000}h1,h2,h3,h4,h5,h6{page-break-after:avoid}p,h2,h3{orphans:3;widows:3}section{page-break-before:avoid}pre>code{white-space:pre;word-break:break-word}#generated-toc,#firstdiff,#toc-title,#mkdocumentprogress,#mkincludechart,#mkprogressbar1,#mkprogressbar2,.mkscrollmeter,#alllinks,.popup{display:none !important}.suppressprintlinks a{border-bottom:none !important;color:inherit !important;cursor:default !important;text-decoration:none !important}.hrefafterlinktext #wrapper a:link:after,.hrefafterlinktext #wrapper a:visited:after{content:" (" attr(href) ") ";font-size:90%;opacity:.9}.nocodebreak pre{page-break-inside:avoid}img,table,figure{page-break-inside:avoid}.breakfootnotes .footnotes{page-break-before:always}.breakfootnotes .footnotes hr{display:none}#mktoctitle{display:block}#print-title{border-bottom:solid 1px #666;display:block}#wrapper pre{white-space:pre;white-space:pre-wrap;word-wrap:break-word}#wrapper #generated-toc-clone,#wrapper #mkreplaced-toc{display:block}.task-list .task-list-item{list-style-type:none !important}.task-list .gh-complete.task-list-item .task-list-item-checkbox:before{background:#838387;content:'\2713'}.task-list .task-list-item-checkbox{-webkit-appearance:none;position:relative}.task-list .task-list-item-checkbox:before{border:solid 1px #aaa;border-radius:2px;color:white;content:' ';display:block;font-weight:bold;height:1em;left:-20px;line-height:1;position:absolute;text-align:center;top:-.75em;width:1em}}
#wrapper #generated-toc-clone,#wrapper #mkreplaced-toc,#wrapper #generated-toc-clone ul,#wrapper #mkreplaced-toc ul{list-style-position:inside}#wrapper #generated-toc-clone li.missing,#wrapper #mkreplaced-toc li.missing{list-style-type: none!important}#wrapper #generated-toc-clone ul,#wrapper #mkreplaced-toc ul{list-style-type: upper-roman}#wrapper #generated-toc-clone>ul>li>ul,#wrapper #mkreplaced-toc>li>ul {list-style-type: decimal}#wrapper #generated-toc-clone>ul>li>ul>li>ul,#wrapper #mkreplaced-toc>li>ul>li>ul{list-style-type: decimal-leading-zero}#wrapper #generated-toc-clone>ul>li>ul>li>ul>li>ul,#wrapper #mkreplaced-toc>li>ul>li>ul>li>ul{list-style-type: lower-greek}#wrapper #generated-toc-clone>ul>li>ul>li>ul>li>ul>li>ul,#wrapper #mkreplaced-toc>li>ul>li>ul>li>ul>li>ul{list-style-type: disc}#wrapper #generated-toc-clone>ul>li>ul>li>ul>li>ul>li>ul>li>ul,#wrapper #mkreplaced-toc>li>ul>li>ul>li>ul>li>ul>li>ul{list-style-type: square}#wrapper #generated-toc-clone,#wrapper #mkreplaced-toc{}
pre { tab-size: 2 }

</style>

<style id="mkprintstyles">@media print{#wrapper #generated-toc-clone,#generated-toc{display:none!important}
html,body,#wrapper{font-size:10pt!important}
}
</style>


</head>
<body class="normal firstload">
  <div id="wrapper">
      <h1 id="Assignment-7%3A-Gesture-Based-Interface">Assignment 7: Gesture-Based Interface</h1>

<p>The goal of this assignment is to explore methods for recognizing gestures. You will implement your own heuristic gesture recognizer using JavaScript and JQuery.</p>

<p>Start by copying the demo code from <a href="https://github.com/shaunkane/csci4849-spring2019/tree/master/code/gesture-demo">the Github repo</a>. You will need to modify the JavaScript file to handle events. You can also alter the HTML and CSS files to your preference.</p>

<h2 id="Background%3A-What-are-UI-events-anyway">Background: What are UI events anyway?</h2>

<p>How do programs track input and gestures, anyway? When you swipe left and swipe right in your app, how is that tracked? What if we want to add a new kind of swipe gesture, like diagonal swipe?</p>

<p>Before the development of modern graphical user interfaces, some programs would track input through <strong>polling.</strong> In this approach, the program would run on a loop and would continuously track the status of the input devices. Where is the mouse? Is mouse button 1 pressed? Is mouse button 2 pressed? And so on. This can make our code cumbersome, as we need to keep track of all of these possible input events, and could reduce performance, since all programs would independently be tracking these variables.</p>

<p>In modern computer systems, most graphical user interfaces now use <strong>event handling</strong> to track input events. In this approach, the programmer adds specific code, known as <strong>event handlers</strong> or <strong>event listeners</strong>, that specify what the program should do when a specific input action happens. These event handlers can specify a specific type of input event, such as mouse button down, mouse button up, mouse move, key down, and so on. Event handlers can also specify which components of the user interface should listen for that specific event; for example, in most cases we only care when the user clicks the mouse on buttons or other UI elements.</p>

<p>When the user performs the specified action with their input device, such as clicking the mouse button, the operating system (or, in the case of HTML, the browser) &ldquo;fires&rdquo; the relevant event, and any event handlers that correspond to that event are then executed.</p>

<p>We&rsquo;ve already actually used an event handler in our first GUI assignment. Our program used this JavaScript code:</p>

<pre><code>$(&quot;#button_id&quot;).click(function() { // when &quot;button_id&quot; is clicked
	$(&quot;#element&quot;).show(); // show element
	$(&quot;#other_element&quot;).hide();	// hide other element
});</code></pre>


<p>In the above example, we are telling the browser to run that code when a specific event happens in a specific UI component: in this case, when a mouse click happens within the button with the ID <code>button_id</code>. We can change the event handler to change either the event tracked, or the UI element tracked. For example, replacing the function <code>click</code> with <code>dblclick</code> would then activate this code only when the button is double clicked. You might want to try this with your existing prototype.</p>

<p>A limitation of this event-handling approach is that our code is restricted to the types of events that the underlying system defines. For example, although HTML and JavaScript support single and double click, we could imagine wanting to track whether the user quadruple-clicked a button (in other words, clicked it four times). That&rsquo;s probably a bad idea for most user interfaces, but there may exist some reason for this. What do we do then? One way to handle this situation, that is often used in UI prototyping, is to hack together our own event handler. For example, for quadruple click, our code might keep track of the number of clicks, and do something only after four clicks have happened. Here is a pseudocode sketch of how that would work:</p>

<pre><code>var numberOfClicks = 0
on click:
	numberOfClicks = numberOfClicks + 1
	if numberOfClicks == 4:
		do something
on mousemove:
	numberOfClicks = 0 // moving the mouse cancels our quadruple click
on timeout:
	numberOfClicks = 0 // our click counter resets after a timeout</code></pre>


<p>So what we will do now is add event handlers to our gesture area (the gray rectangle in the code) to recognize some simple gestures.</p>

<h2 id="What-you-should-do">What you should do</h2>

<h3 id="Step-1%3A-Detecting-Mouse-Down-and-Mouse-Up">Step 1: Detecting Mouse Down and Mouse Up</h3>

<p>We will write code to track when the user presses the mouse button within the gesture area, and when the user raises the mouse button within the gesture area. When these happen, we will write &ldquo;mouse down&rdquo; or &ldquo;mouse up&rdquo; in the gesture output area to show that we have correctly recognized the input event. (Later, we will use this to recognize gestural swipes in which the user presses the mouse button, drags the mouse left or right, and then raises the mouse button.)</p>

<p>So how do we do that? Just as we used the <code>click</code> function to react to clicks on our user interface, we will use the <code>mousedown</code> and <code>mouseup</code> functions to track mouse interactions on the gesture area. Instead of showing and hiding parts of the user interface, we will (for now) report the gesture that has been performed in the <code>gestureResult</code> box. The <a href="https://api.jquery.com/category/events/mouse-events/">JQuery mouse events page</a> shows all of the mouse gestures that we can recognize when we use the JQuery library, as we do here.</p>

<p>You also use the <code>text</code> <a href="https://api.jquery.com/text">function</a> to set the value of an HTML object. For example, if we wanted to change the contents of &ldquo;fruit&rdquo; to &ldquo;kiwi&rdquo;, we could write <code>$("#fruit").text("kiwi")</code>.</p>

<p>Given what you know already, you could add a <code>click</code> function handler to your gesture area. On click, you could show a message using <code>text</code>.</p>

<p>For this assignment, you should add both a <code>mousedown</code> and a <code>mouseup</code> function for your gesture area. Inside these functions, add code to write &ldquo;mouse down&rdquo; and &ldquo;mouse up&rdquo; in the <code>gestureResult</code> box. Note that these functions are only called when the mouse events happen inside the gesture area: if you mouse down inside the gesture area but mouse up somewhere else, the mouse up will not be detected.</p>

<h3 id="Step-2%3A-Adding-Swipe-Gestures">Step 2: Adding Swipe Gestures</h3>

<p>For this step, we are going to track two mouse gestures: swipe left and swipe right. To perform these gestures, the user will press the mouse button down, move the mouse to the left or right, and release the mouse button.</p>

<p>We do not have built-in events for these gestures, so we will code them ourselves. How are we going to do that? In a way that&rsquo;s pretty hacky, but useful for prototyping. What we&rsquo;ll do is, when the mouse button is pressed down, we will keep track of the X and Y coordinates the mouse is at. When the mouse button is released, we&rsquo;ll look at the location again. If the mouse has moved left (the X coordinate is less than it was before), it&rsquo;s a swipe left, and we will write &ldquo;swipe left&rdquo; in the output box.. If the mouse has moved right (the X coordinate is higher), it&rsquo;s a swipe right and we will write &ldquo;swipe right&rdquo;. If the mouse hasn&rsquo;t moved left or right, we&rsquo;ll just write &ldquo;mouse up&rdquo; as we did before.</p>

<p>The pseudocode for this is similar to the quadruple-click example we discussed previously:</p>

<pre><code>downX = 0
downY = 0

on mouse down:
	downX = current X position
	downY = current Y position

on mouse up:
	upX = current X position
	upY = current Y position
	
	if upX &lt; downX:
		output &quot;swipe left&quot;
	else if upX &gt; downX:
		output &quot;swipe right&quot;
	else if upX == downX:
		output &quot;mouse up&quot;
</code></pre>


<p>
Note that the <code>mouseX</code> and <code>mouseY</code> variables must be initialized outside the <code>mousedown</code> and <code>mouseup</code> functions, so we can access them in both functions. We don&rsquo;t actually need to store the Y coordinate for now, but we might as well do so, in case we need it later.</p>

<p>There&rsquo;s only one more thing we need to know. How do we know where the mouse pointer is? For that, we will change our event handling function slightly so that we can access this information. We will use the variables <code>event.pageX</code> and <code>event.pageY</code> to refer to the position of the mouse when the event occurs. In this case, the X position of the mouse is reported as the number of pixels from the left edge of the HTML window (<code>pageX</code>), and the Y position is reported as the number of pixels below the top edge of the HTML window (<code>pageY</code>). Sometimes it matters from where we are measuring the location of an event, but in this case we are comparing two mouse positions, so it doesn&rsquo;t matter.</p>

<p>We will need to make one more change to our <code>mousedown</code> and <code>mouseup</code> functions so that we can access the mouse position. What we need to do here is add the variable <code>event</code> inside our function. For example, we would start our mousedown function like so:</p>

<pre><code>	$(&quot;#objectId&quot;).mousedown(function(event)) {
		// the rest of our code</code></pre>


<p>Note the addition of the variable <code>event</code> to the first line of our function. That tells JavaScript that we want to receive all of the details about the mouse event, and that they should be placed in a variable named <code>event</code>. If we forget to do this, our JavaScript code will not be able to find the <code>event.pageX</code> or <code>event.pageY</code> variables. (You don&rsquo;t actually have to name this variable <code>event</code>, you could call it whatever you want).</p>

<p>If you feel stuck on how to do this, you might want to read over the examples from the JQuery API documentation for the <a href="https://api.jquery.com/mousemove/">mousemove function</a>. All of the mouse related functions can use this event variable, but the JQuery documentation isn&rsquo;t very good and only demonstrates this capability for <a href="https://api.jquery.com/mousemove/">mousemove</a>.</p>

<p>That&rsquo;s it! You should now be able to recognize swipe left and swipe right mouse gestures.</p>

<h3 id="Extra-credit">Extra credit</h3>

<p>For some extra credit, add additional gestures such as double click and triple click, or add a shape recognizer based on the <a href="http://faculty.washington.edu/wobbrock/pubs/uist-07.01.pdf">$1 Recognizer Paper</a>. For this, you should implement your own version of the $1 recognizer, not use someone else&rsquo;s code</p>

<h3 id="What-to-turn-in">What to turn in</h3>

<p>A
Post your code to Github. Submit the link.</p>
<!-- ##END MARKED WRAPPER## -->
    </div>
</body>
</html>