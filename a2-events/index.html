<!DOCTYPE html>  
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>a2-events</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style id="mkstylesheet">
/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:bold}dfn{font-style:italic}h1{font-size:2em;margin:0.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-0.5em}sub{bottom:-0.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace, monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}input[type="number"]::-webkit-inner-spin-button,input[type="number"]::-webkit-outer-spin-button{height:auto}input[type="search"]{-webkit-appearance:textfield;box-sizing:content-box}input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid #c0c0c0;margin:0 2px;padding:0.35em 0.625em 0.75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:bold}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}*{box-sizing:border-box}input,select,textarea,button{font:13px/1.4 Helvetica,arial,nimbussansl,liberationsans,freesans,clean,sans-serif,"Segoe UI Emoji","Segoe UI Symbol"}body{font:13px/1.4 Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol";color:#333;background-color:#fff}a{color:#4078c0;text-decoration:none}a:hover,a:active{text-decoration:underline}hr,.rule{height:0;margin:15px 0;overflow:hidden;background:transparent;border:0;border-bottom:1px solid #ddd}hr:before,.rule:before{display:table;content:""}hr:after,.rule:after{display:table;clear:both;content:""}h1,h2,h3,h4,h5,h6{margin-top:15px;margin-bottom:15px;line-height:1.1}h1{font-size:30px}h2{font-size:21px}h3{font-size:16px}h4{font-size:14px}h5{font-size:12px}h6{font-size:11px}small{font-size:90%}blockquote{margin:0}ul,ol{padding:0;margin-top:0;margin-bottom:0}ol ol,ul ol{list-style-type:lower-roman}ul ul ol,ul ol ol,ol ul ol,ol ol ol{list-style-type:lower-alpha}dd{margin-left:0}tt,code{font-family:Consolas, "Liberation Mono", Menlo, Courier, monospace;font-size:12px}pre{margin-top:0;margin-bottom:0;font:12px Consolas,"Liberation Mono",Menlo,Courier,monospace}html,body{color:black}#wrapper{font:16px helvetica,arial,freesans,clean,sans-serif;-webkit-font-smoothing:antialiased;line-height:1.6;padding:3px;background:#fff;border-radius:3px;-moz-border-radius:3px;-webkit-border-radius:3px;border:solid 1px #dddddd !important;color:#333}p{margin:1em 0}a{color:#4183c4;text-decoration:none}#wrapper{background-color:#fff;padding:30px;margin:15px;font-size:16px;line-height:1.6}#wrapper>*:first-child{margin-top:0 !important}#wrapper>*:last-child{margin-bottom:0 !important}@media screen{#wrapper{border:solid 1px #ddd}}h1,h2,h3,h4,h5,h6{position:relative;margin-top:1em;margin-bottom:16px;font-weight:700;line-height:1.4;color:#333}h1{padding-bottom:.3em;font-size:2.25em;line-height:1.2;border-bottom:1px solid #eee}h2{padding-bottom:0.3em;font-size:1.75em;line-height:1.225;border-bottom:1px solid #eee}h3{font-size:1.5em;line-height:1.43}h4{font-size:1.25em}h5{font-size:1em}h6{color:#777;font-size:1em}p,blockquote,ul,ol,dl,table,pre{margin-top:0;margin-bottom:16px}hr{height:4px;padding:0;margin:16px 0;background-color:#e7e7e7;border:0 none}ul,ol{padding-left:2em}ul.no-list,ol.no-list{padding:0;list-style-type:none}ul ul,ul ol{margin-top:0;margin-bottom:0}ol ol,ol ul{margin-top:0;margin-bottom:0}li>p{margin-top:16px}dl{padding:0}dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}dl dd{padding:0 16px;margin-bottom:16px}blockquote{padding:0 15px;margin-left:0;color:#777;border-left:4px solid #ddd}blockquote>:first-child{margin-top:0}blockquote>:last-child{margin-bottom:0}table{display:block;width:100%;overflow:auto}table th{font-weight:700;padding:6px 13px;border:1px solid #ddd}table td{padding:6px 13px;border:1px solid #ddd}table tr{background-color:#fff;border-top:1px solid #ccc}table tr:nth-child(2n){background-color:#f8f8f8}img{max-width:100%;-moz-box-sizing:border-box;box-sizing:border-box}span.frame{display:block;overflow:hidden}span.frame>span{display:block;float:left;width:auto;padding:7px;margin:13px 0 0;overflow:hidden;border:1px solid #ddd}span.frame span img{display:block;float:left}span.frame span span{display:block;padding:5px 0 0;clear:both;color:#333}span.align-center{display:block;overflow:hidden;clear:both}span.align-center>span{display:block;margin:13px auto 0;overflow:hidden;text-align:center}span.align-center span img{margin:0 auto;text-align:center}span.align-right{display:block;overflow:hidden;clear:both}span.align-right>span{display:block;margin:13px 0 0;overflow:hidden;text-align:right}span.align-right span img{margin:0;text-align:right}span.float-left{display:block;float:left;margin-right:13px;overflow:hidden}span.float-left span{margin:13px 0 0}span.float-right{display:block;float:right;margin-left:13px;overflow:hidden}span.float-right>span{display:block;margin:13px auto 0;overflow:hidden;text-align:right}code,tt{padding:0;padding-top:.2em;padding-bottom:.2em;margin:0;font-size:85%;background-color:rgba(0,0,0,0.04);border-radius:3px}code:before,code:after{letter-spacing:-.2em;content:"\00a0"}tt:before,tt:after{letter-spacing:-.2em;content:"\00a0"}code br,tt br{display:none}del code{text-decoration:inherit;vertical-align:text-top}pre>code{padding:0;margin:0;font-size:100%;white-space:pre;background:transparent;border:0}.highlight{margin-bottom:16px}.highlight pre{padding:16px;margin-bottom:0;overflow:auto;font-size:85%;line-height:1.45;background-color:#f7f7f7;border-radius:3px}pre{padding:16px;margin-bottom:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f7f7f7;border-radius:3px;word-wrap:normal}pre code,pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}pre code:before,pre code:after{content:normal}pre tt:before,pre tt:after{content:normal}.poetry pre{font-family:Georgia, Garamond, serif !important;font-style:italic;font-size:110% !important;line-height:1.6em;display:block;margin-left:1em}.poetry pre code{font-family:Georgia, Garamond, serif !important;word-break:break-all;word-break:break-word;-webkit-hyphens:auto;-moz-hyphens:auto;hyphens:auto;white-space:pre-wrap}sup,sub,a.footnote{font-size:1.4ex;height:0;line-height:1;vertical-align:super;position:relative}sub{vertical-align:sub;top:-1px}@media print{body{background:#fff}img,table,figure{page-break-inside:avoid}#wrapper{background:#fff;border:none !important;font-size:12px}pre code{overflow:visible}}@media screen{body.inverted{color:#eee !important;border-color:#555;box-shadow:none}.inverted #wrapper,.inverted hr,.inverted p,.inverted td,.inverted li,.inverted h1,.inverted h2,.inverted h3,.inverted h4,.inverted h5,.inverted h6,.inverted th,.inverted .math,.inverted caption,.inverted dd,.inverted dt,.inverted blockquote{color:#eee !important;border-color:#555;box-shadow:none}.inverted td,.inverted th{background:#333}.inverted pre,.inverted code,.inverted tt{background:#eeeeee !important;color:#111}.inverted h2{border-color:#555555}.inverted hr{border-color:#777;border-width:1px !important}::selection{background:rgba(157,193,200,0.5)}h1::selection{background-color:rgba(45,156,208,0.3)}h2::selection{background-color:rgba(90,182,224,0.3)}h3::selection,h4::selection,h5::selection,h6::selection,li::selection,ol::selection{background-color:rgba(133,201,232,0.3)}code::selection{background-color:rgba(0,0,0,0.7);color:#eeeeee}code span::selection{background-color:rgba(0,0,0,0.7) !important;color:#eeeeee !important}a::selection{background-color:rgba(255,230,102,0.2)}.inverted a::selection{background-color:rgba(255,230,102,0.6)}td::selection,th::selection,caption::selection{background-color:rgba(180,237,95,0.5)}.inverted{background:#0b2531;background:#252a2a}.inverted #wrapper{background:#252a2a}.inverted a{color:#acd1d5}}.highlight{background:#fff}.highlight .c{color:#998;font-style:italic}.highlight .err{color:#a61717;background-color:#e3d2d2}.highlight .k,.highlight .o{font-weight:700}.highlight .cm{color:#998;font-style:italic}.highlight .cp{color:#999;font-weight:700}.highlight .c1{color:#998;font-style:italic}.highlight .cs{color:#999;font-weight:700;font-style:italic}.highlight .gd{color:#000;background-color:#fdd}.highlight .gd .x{color:#000;background-color:#faa}.highlight .ge{font-style:italic}.highlight .gr{color:#a00}.highlight .gh{color:#999}.highlight .gi{color:#000;background-color:#dfd}.highlight .gi .x{color:#000;background-color:#afa}.highlight .go{color:#888}.highlight .gp{color:#555}.highlight .gs{font-weight:700}.highlight .gu{color:purple;font-weight:700}.highlight .gt{color:#a00}.highlight .kc,.highlight .kd,.highlight .kn,.highlight .kp,.highlight .kr{font-weight:700}.highlight .kt{color:#458;font-weight:700}.highlight .m{color:#099}.highlight .s{color:#d14}.highlight .n{color:#333}.highlight .na{color:teal}.highlight .nb{color:#0086b3}.highlight .nc{color:#458;font-weight:700}.highlight .no{color:teal}.highlight .ni{color:purple}.highlight .ne,.highlight .nf{color:#900;font-weight:700}.highlight .nn{color:#555}.highlight .nt{color:navy}.highlight .nv{color:teal}.highlight .ow{font-weight:700}.highlight .w{color:#bbb}.highlight .mf,.highlight .mh,.highlight .mi,.highlight .mo{color:#099}.highlight .sb,.highlight .sc,.highlight .sd,.highlight .s2,.highlight .se,.highlight .sh,.highlight .si,.highlight .sx{color:#d14}.highlight .sr{color:#009926}.highlight .s1{color:#d14}.highlight .ss{color:#990073}.highlight .bp{color:#999}.highlight .vc,.highlight .vg,.highlight .vi{color:teal}.highlight .il{color:#099}.highlight .gc{color:#999;background-color:#EAF2F5}.type-csharp .highlight .k,.type-csharp .highlight .kt{color:blue}.type-csharp .highlight .nf{color:#000;font-weight:400}.type-csharp .highlight .nc{color:#2b91af}.type-csharp .highlight .nn{color:#000}.type-csharp .highlight .s,.type-csharp .highlight .sc{color:#a31515}.type-csharp .highlight .k,.type-csharp .highlight .kt{color:#00F}.type-csharp .highlight .nf{color:#000;font-weight:normal}.type-csharp .highlight .nc{color:#2B91AF}.type-csharp .highlight .nn{color:#000}.type-csharp .highlight .s,.type-csharp .highlight .sc{color:#A31515}body.dark #wrapper{background:transparent !important;box-shadow:none !important}
#mkreplaced-toc{list-style-position:inside;padding:0;margin:0 0 0 1rem;list-style-type:none}#mkreplaced-toc li::before{content:''}#mkreplaced-toc li{font-size:1rem;line-height:1.25;font-weight:normal}#mkreplaced-toc li ul{font-size:1.3rem;font-weight:300;padding:.5rem 0;margin:0 0 0 1rem}#mkreplaced-toc li.missing{list-style-type:none !important}#mkreplaced-toc.max-1 ul,#mkreplaced-toc.max1 ul{display:none}#mkreplaced-toc.max-2 ul ul,#mkreplaced-toc.max2 ul ul{display:none}#mkreplaced-toc.max-3 ul ul ul,#mkreplaced-toc.max3 ul ul ul{display:none}#mkreplaced-toc.max-4 ul ul ul ul,#mkreplaced-toc.max4 ul ul ul ul{display:none}#mkreplaced-toc.max-5 ul ul ul ul ul,#mkreplaced-toc.max5 ul ul ul ul ul{display:none}.rtl{direction:rtl;text-align:right}@media print{body{background:white;line-height:1.4}html,body,#wrapper{max-width:100%;width:100%;-webkit-text-size-adjust:none;-webkit-perspective:none !important;box-sizing:border-box;width:auto;border:0;margin:0;padding:0;float:none;-moz-box-shadow:none !important;-webkit-box-shadow:none !important;box-shadow:none !important}mark{background:transparent !important}h1,h2,h3,h4,h5,h6{page-break-after:avoid}p,h2,h3{orphans:3;widows:3}section{page-break-before:avoid}pre>code{white-space:pre;word-break:break-word}#generated-toc,#firstdiff,#toc-title,#mkdocumentprogress,#mkincludechart,#mkprogressbar1,#mkprogressbar2,.mkscrollmeter,#alllinks,.popup{display:none !important}.suppressprintlinks a{color:inherit !important;text-decoration:none !important;border-bottom:none !important;cursor:default !important}.hrefafterlinktext #wrapper a:link:after,.hrefafterlinktext #wrapper a:visited:after{content:" (" attr(href) ") ";font-size:90%;opacity:0.9}.nocodebreak pre{page-break-inside:avoid}img,table,figure{page-break-inside:avoid}.breakfootnotes .footnotes{page-break-before:always}.breakfootnotes .footnotes hr{display:none}#mktoctitle{display:block}#print-title{display:block;border-bottom:solid 1px #666}#wrapper pre{white-space:pre;white-space:pre-wrap;word-wrap:break-word}#wrapper #generated-toc-clone,#wrapper #mkreplaced-toc{display:block}.task-list .task-list-item{list-style-type:none !important}.task-list .gh-complete.task-list-item .task-list-item-checkbox:before{content:'\2713';background:#838387}.task-list .task-list-item-checkbox{-webkit-appearance:none;position:relative}.task-list .task-list-item-checkbox:before{content:' ';border:solid 1px #aaa;width:1em;height:1em;display:block;border-radius:2px;left:-20px;top:-.75em;color:white;font-weight:bold;line-height:1;text-align:center;position:absolute}}
#wrapper #generated-toc-clone,#wrapper #mkreplaced-toc,#wrapper #generated-toc-clone ul,#wrapper #mkreplaced-toc ul{list-style-position:inside}#wrapper #generated-toc-clone li.missing,#wrapper #mkreplaced-toc li.missing{list-style-type: none!important}#wrapper #generated-toc-clone,#wrapper #mkreplaced-toc{list-style-type: disc}#wrapper #generated-toc-clone>li>ul,#wrapper #mkreplaced-toc>li>ul {list-style-type: decimal}#wrapper #generated-toc-clone>li>ul>li>ul,#wrapper #mkreplaced-toc>li>ul>li>ul{list-style-type: decimal-leading-zero}#wrapper #generated-toc-clone>li>ul>li>ul>li>ul,#wrapper #mkreplaced-toc>li>ul>li>ul>li>ul{list-style-type: lower-greek}#wrapper #generated-toc-clone>li>ul>li>ul>li>ul>li>ul,#wrapper #mkreplaced-toc>li>ul>li>ul>li>ul>li>ul{list-style-type: disc}#wrapper #generated-toc-clone>li>ul>li>ul>li>ul>li>ul>li>ul,#wrapper #mkreplaced-toc>li>ul>li>ul>li>ul>li>ul>li>ul{list-style-type: square}
h3 { color: #333;}
h1 { font-size: 28px;}
h2 { font-size: 24px;}
h3 { font-size: 16px; margin-bottom: 4px;}

</style>

<style id="mkprintstyles">@media print{
html,body,#wrapper{font-size:10pt!important}
}
</style>


</head>
<body class="normal">
  <div id="wrapper">
      <h1>Assignment 2: Handling Events</h1>

<p>Due Wednesday February 7 at 3pm. It's OK to discuss this project with others as you work on it, but each person needs to complete this assignment.</p>

<p>In this assignment, we will build upon our HTML prototype to add in handling for &quot;mouse events.&quot; This will give us some perspective on how software in a modern graphical user interface understands and tracks user input.</p>

<p>This assignment extends the previous assignment. You should create a copy your files from the previous assignment, so you don't overwrite or break your earlier work.</p>

<p>The end result will be a new tab with a &quot;gesture area&quot; that will detect when the mouse button is pressed down, and when the mouse button is released. It will also detect &quot;swipe left&quot; and &quot;swipe right&quot; gestures, when the user presses the mouse button down, moves left or right, and releases the mouse button. We will also add button handlers to our phone dialer.</p>

<img src="images/a2.gif" alt="animated image shows gestures left and right" / width="50%" height="50%">
<figcaption>animated image shows gestures left and right</figcaption>

<h2>Background: What are UI events anyway?</h2>

<p>How do programs track input and gestures, anyway? When you swipe left and swipe right in your app, how is that tracked? What if we want to add a new kind of swipe gesture, like diagonal swipe?</p>

<p>Before the development of modern graphical user interfaces, some programs would track input through <strong>polling.</strong> In this approach, the program would run on a loop and would continuously track the status of the input devices. Where is the mouse? Is mouse button 1 pressed? Is mouse button 2 pressed? And so on. This can make our code cumbersome, as we need to keep track of all of these possible input events, and could reduce performance, since all programs would independently be tracking these variables.</p>

<p>In modern computer systems, most graphical user interfaces now use <strong>event handling</strong> to track input events. In this approach, the programmer adds specific code, known as <strong>event handlers</strong> or <strong>event listeners</strong>, that specify what the program should do when a specific input action happens. These event handlers can specify a specific type of input event, such as mouse button down, mouse button up, mouse move, key down, and so on. Event handlers can also specify which components of the user interface should listen for that specific event; for example, in most cases we only care when the user clicks the mouse on buttons or other UI elements. </p>

<p>When the user performs the specified action with their input device, such as clicking the mouse button, the operating system (or, in the case of HTML, the browser) &quot;fires&quot; the relevant event, and any event handlers that correspond to that event are then executed.</p>

<p>We've already actually used an event handler in our first GUI assignment. Our program used this JavaScript code:</p>
<pre><code class="javascript">$(&quot;#button_id&quot;).click(function() { // when &quot;button_id&quot; is clicked
	$(&quot;#element&quot;).show(); // show element
	$(&quot;#other_element&quot;).hide();	// hide other element
});</code></pre>

<p>In the above example, we are telling the browser to run that code when a specific event happens in a specific UI component: in this case, when a mouse click happens within the button with the ID <code>button_id</code>. We can change the event handler to change either the event tracked, or the UI element tracked. For example, replacing the function <code>click</code> with <code>dblclick</code> would then activate this code only when the button is double clicked. You might want to try this with your existing prototype.</p>

<p>A limitation of this event-handling approach is that our code is restricted to the types of events that the underlying system defines. For example, although HTML and JavaScript support single and double click, we could imagine wanting to track whether the user quadruple-clicked a button (in other words, clicked it four times). That's probably a bad idea for most user interfaces, but there may exist some reason for this. What do we do then? One way to handle this situation, that is often used in UI prototyping, is to hack together our own event handler. For example, for quadruple click, our code might keep track of the number of clicks, and do something only after four clicks have happened. Here is a pseudocode sketch of how that would work:</p>
<pre><code class="(null)">var numberOfClicks = 0
on click:
	numberOfClicks = numberOfClicks + 1
	if numberOfClicks == 4:
		do something
on mousemove:
	numberOfClicks = 0 // moving the mouse cancels our quadruple click
on timeout:
	numberOfClicks = 0 // our click counter resets after a timeout</code></pre>

<p>So what we will do now is add event handlers to our phone dialer buttons so that they work. Then we will add a new tab to test out some of our event handling capabilities.</p>

<h2>What to do</h2>

<h3>Step 1. Make the phone dialer buttons work</h3>

<p>We will add button handlers to our 12 phone key buttons, and the clear button, using the <code>click</code> event. For now, the dial button doesn't need to do anything.</p>

<p>We already used a button handler in our original project to switch tabs. You will adapt that code for the buttons.</p>

<p>So we know how to add a click handler to our phone keypad buttons. But what should it do? We want it to work like a real phone app, so that each time you press a button, that number is added to the number being dialed. Like almost everything else, this is a little tricky in JavaScript, so we'll do this in two steps.</p>

<p>First, let's just figure out how to set the text inside our phone input area. To do this, we will use the JQuery function called <a href="http://api.jquery.com/val/">val</a>. This same function allows us to both read and set the value of any object in our HTML document, including <code>div</code> tags, <code>input</code> tags, and others.</p>

<p>For example, let's say we have an input element in our prototype with the ID <code>fruit</code>, and the user has typed the word &quot;banana&quot; into that input box. If you wanted to know what was in the input box, you could use the code <code>$(&quot;#fruit&quot;).val()</code>. </p>

<p>To test this out, you could use the JavaScript <a href="https://www.w3schools.com/jsref/met_win_alert.asp">alert</a> function. This function is used to pop up a window with a specified message. This function is worth knowing for debugging your code. For example, if you're not sure whether your JavaScript code is loading, you could add the line <code>alert(&quot;hello world&quot;)</code> to your code. If the code is loading and being called, that function will pop up. We could also use this function to see what's inside our input box, as in <code>alert($(&quot;#fruit&quot;).val())</code>, which would pop up whatever is inside the &quot;fruit&quot; input box, in this case, &quot;banana&quot;.</p>

<p>We also use the <code>val</code> function to set the value of an HTML object. For example, if we wanted to change the contents of &quot;fruit&quot; to &quot;kiwi&quot;, we could write <code>$(&quot;#fruit&quot;).val(&quot;kiwi&quot;)</code>.</p>

<p>Given this information, you could now use your knowledge of the <code>click</code> function, and the <code>val</code> function, so that when you click a button on the keypad, that number appears in the phone input box. You should try this.</p>

<p>The problem with this approach, as you will see right away, is that each time we add a number to our input box, we erase the old one. To fix this, we need to set the content of the input to be whatever is in there already, plus something else. So, if we wanted to <strong>add</strong> &quot;kiwi&quot; to our fruit input, we would write something like:</p>
<pre><code class="(null)">$(&quot;#fruit&quot;).val($(&quot;#fruit&quot;).val() + &quot;kiwi&quot;)</code></pre>

<p>To clear the input, we can set the value of the input to &quot;&quot; (the empty string).</p>

<p>This is all you need to make your dialer work, so go for it.</p>

<h3>Step 2: Add a &quot;Test Gestures&quot; tab</h3>

<p>In the next step, we will add a new tab to our program to test out gestures. We'll test out swipe left and swipe right gestures. We could do this on the main user interface, but since it's more complicated to track gestures across different parts of the UI, we'll make a new tab just for testing out gestures.</p>

<p>Add a new, fourth tab to your user interface. As before, you'll need to add a button representing the tab, and a div to represent the content. In that div, you should add two controls: an input field (which I called <code>gesture_output</code>), that will show our program output, and a div representing our gesture area (which I called <code>gesture_area</code>). You will want to make the gesture area big enough to click with the mouse; you can specify the size, shape, and color in the .css file. In my example, I used a width of 300px, a height of 300px, and a background silver. You can style yours however you'd like, but it should be obvious where the boundaries of this area are.</p>

<h3>Step 3: Handling Mouse Down and Mouse Up</h3>

<p>We will write code to track when the user presses the mouse button within the gesture area, and when the user raises the mouse button within the gesture area. When these happen, we will write &quot;mouse down&quot; or &quot;mouse up&quot; in the gesture output area to show that we have correctly recognized the input event. (Later, we will use this to recognize gestural swipes in which the user presses the mouse button, drags the mouse left or right, and then raises the mouse button.)</p>

<p>So how do we do that? Just as we used the <code>click</code> function to react to clicks on our user interface, we will use the <code>mousedown</code> and <code>mouseup</code> functions to track mouse interactions on the gesture area. Instead of showing and hiding parts of the user interface, we will (for now) report the gesture that has been performed in the <code>gesture_output</code> box. The <a href="https://api.jquery.com/category/events/mouse-events/">JQuery mouse events page</a> shows all of the mouse gestures that we can recognize when we use the JQuery library, as we do here.</p>

<p>Given what you know already, you could add a <code>click</code> function handler to your gesture area. On click, you could show a message using <code>alert</code> or show or hide some content. If you can add a click handler to your gesture area, you're most of the way there.</p>

<p>For this assignment, you should add both a <code>mousedown</code> and a <code>mouseup</code> function for your gesture area. Inside these functions, add code to write &quot;mouse down&quot; and &quot;mouse up&quot; in the <code>gesture_output</code> box as we did for the dialer. Note that these functions are only called when the mouse events happen inside the gesture area: if you mouse down inside the gesture area but mouse up somewhere else, the mouse up will not be detected.</p>

<h3>Step 4: Adding Swipe Gestures</h3>

<p>All right, the last step! For this step, we are going to track two mouse gestures: swipe left and swipe right. To perform these gestures, the user will press the mouse button down, move the mouse to the left or right, and release the mouse button. </p>

<p>We do not have built-in events for these gestures, so we will code them ourselves. How are we going to do that? In a way that's pretty hacky, but useful for prototyping. What we'll do is, when the mouse button is pressed down, we will keep track of the X and Y coordinates the mouse is at. When the mouse button is released, we'll look at the location again. If the mouse has moved left (the X coordinate is less than it was before), it's a swipe left, and we will write &quot;swipe left&quot; in the output box.. If the mouse has moved right (the X coordinate is higher), it's a swipe right and we will write &quot;swipe right&quot;. If the mouse hasn't moved left or right, we'll just write &quot;mouse up&quot; as we did before.</p>

<p>The pseudocode for this is similar to the quadruple-click example we discussed previously:</p>
<pre><code class="(null)">downX = 0
downY = 0

on mouse down:
	downX = current X position
	downY = current Y position

on mouse up:
	upX = current X position
	upY = current Y position
	
	if upX &lt; downX:
		output &quot;swipe left&quot;
	else if upX &gt; downX:
		output &quot;swipe right&quot;
	else if upX == downX:
		output &quot;mouse up&quot;
</code></pre>

<p>that the <code>mouseX</code> and <code>mouseY</code> variables must be initialized outside the <code>mousedown</code> and <code>mouseup</code> functions, so we can access them in both functions. We don't actually need to store the Y coordinate for now, but we might as well do so, in case we need it later.</p>

<p>There's only one more thing we need to know. How do we know where the mouse pointer is? For that, we will change our event handling function slightly so that we can access this information. We will use the variables <code>event.pageX</code> and <code>event.pageY</code> to refer to the position of the mouse when the event occurs. In this case, the X position of the mouse is reported as the number of pixels from the left edge of the HTML window (<code>pageX</code>), and the Y position is reported as the number of pixels below the top edge of the HTML window (<code>pageY</code>). Sometimes it matters from where we are measuring the location of an event, but in this case we are comparing two mouse positions, so it doesn't matter.</p>

<p>We will need to make one more change to our <code>mousedown</code> and <code>mouseup</code> functions so that we can access the mouse position. What we need to do here is add the variable <code>event</code> inside our function. For example, we would start our mousedown function like so: </p>
<pre><code class="(null)">	$(&quot;#objectId&quot;).mousedown(function(event)) {
		// the rest of our code</code></pre>

<p>Note the addition of the variable <code>event</code> to the first line of our function. That tells JavaScript that we want to receive all of the details about the mouse event, and that they should be placed in a variable named <code>event</code>. If we forget to do this, our JavaScript code will not be able to find the <code>event.pageX</code> or <code>event.pageY</code> variables. (You don't actually have to name this variable <code>event</code>, you could call it whatever you want).</p>

<p>If you feel stuck on how to do this, you might want to read over the examples from the JQuery API documentation for the <a href="https://api.jquery.com/mousemove/">mousemove function</a>. All of the mouse related functions can use this event variable, but the JQuery documentation isn't very good and only demonstrates this capability for <a href="https://api.jquery.com/mousemove/">mousemove</a>.</p>

<p>That's it! You should now be able to switch between tabs, and recognize swipe left and swipe right mouse gestures. It may have been painful at times to get here, but now you can use HTML and JavaScript to create a clickable prototype that includes working buttons and detecting gestures. Give yourself a high five.</p>

<h3>Going above and beyond</h3>

<p>If you want to take this a step further (especially you found this easy), you could do the following:</p>

<ul>
<li>Add swipe up and swipe down gestures (or others)</li>
<li>Navigate between tabs when the swipe gesture is completed</li>
<li>You could even add a &quot;swipe area&quot; to the bottom of the page that allows you to swipe between the tabs, like the <a href="https://www.youtube.com/watch?v=cJZoTqtwGzY">new swipe gestures in the iPhone X</a>.</li>
<li>Add keyboard event handlers to switch between tabs when the arrow keys are pressed</li>
</ul>

<h2>What to turn in</h2>

<p>Submit your prototype via <a href="https://moodle.cs.colorado.edu/mod/assign/view.php?id=21242">Moodle</a>. You just need to submit the URL. This time (and for future assignments), don't submit the URL to the GitHub repository; instead, submit the URL for the HTML site on GitHub Pages. In other words, when someone clicks on the URL, they should see your Assignment 2 interface, not the GitHub repo. The URL will be something like <code>user_name.github.io/project_name/</code>. If you're stuck here, follow the instructions on <a href="http://pages.github.com">GitHub Pages</a></p>
<!-- ##END MARKED WRAPPER## -->
    </div>



<script>(function(factory){if(typeof define==="function"&&define.amd){define("bidi_helpers",[],factory)}else{window.bidi_helpers=factory()}})(function(){var module={};module.Dir={RTL:-1,UNKNOWN:0,LTR:1};module.Format={LRE:"\u202A",RLE:"\u202B",PDF:"\u202C",LRM:"\u200E",RLM:"\u200F"};module.ltrChars_="A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02B8\u0300-\u0590\u0800-\u1FFF\u2C00-\uFB1C\uFE00-\uFE6F\uFEFD-\uFFFF";module.rtlChars_="\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC";module.ltrDirCheckRe_=new RegExp("^[^"+module.rtlChars_+"]*["+module.ltrChars_+"]");module.ltrCharReg_=new RegExp("["+module.ltrChars_+"]");module.hasAnyLtr=function(text){return module.ltrCharReg_.test(text)};module.rtlDirCheckRe_=new RegExp("^[^"+module.ltrChars_+"]*["+module.rtlChars_+"]");module.rtlRe=module.rtlDirCheckRe_;module.isRtlText=function(text){return module.rtlDirCheckRe_.test(text)};module.isLtrText=function(text){return module.ltrDirCheckRe_.test(text)};module.isRequiredLtrRe_=/^http:\/\/.*/;module.hasNumeralsRe_=/\d/;module.estimateDirection=function(text,detectionThreshold){var rtlCount=0;var totalCount=0;var hasWeaklyLtr=false;var tokens=text.split(/\s+/);for(var i=0;i<tokens.length;i++){var token=tokens[i];if(module.isRtlText(token)){rtlCount++;totalCount++}else{if(module.isRequiredLtrRe_.test(token)){hasWeaklyLtr=true}else{if(module.hasAnyLtr(token)){totalCount++}else{if(module.hasNumeralsRe_.test(token)){hasWeaklyLtr=true}}}}}return totalCount==0?(hasWeaklyLtr?module.Dir.LTR:module.Dir.UNKNOWN):(rtlCount/totalCount>detectionThreshold?module.Dir.RTL:module.Dir.LTR)};return module});(function(factory){if(typeof define==="function"&&define.amd){define("bidiweb",["bidi_helpers"],factory)}else{window.bidiweb=factory(bidi_helpers)}})(function(bidi_helpers){var module={};var IProcessor={makeRtl:function(element){},makeLtr:function(element){}};var css_processor=function(classes){return{makeRtl:function(element){element.classList.add(classes.rtl)},makeLtr:function(element){element.classList.add(classes.ltr)}}};var style_processor=function(falign){return{makeRtl:function(element){element.style.direction="rtl";if(falign){element.style.textAlign="right"}},makeLtr:function(element){element.style.direction="ltr";if(falign){element.style.textAlign="left"}}}};module.processors={css:css_processor,style:style_processor};var nodeListMock=function(node){var list=[node];list.item=function(i){return list[i]};return list};module.process=function(query,processor){var elements;if(query instanceof NodeList){elements=query}else{if(query instanceof Node){elements=nodeListMock(query)}else{elements=document.querySelectorAll(query)}}module.process_elements(elements,processor);return elements};module.process_elements=function(elements,processor){for(var index=0;index<elements.length;index++){var element=elements.item(index);var text=element.textContent||element.value||element.placeholder||"";var dir=bidi_helpers.estimateDirection(text,0.4);if(dir==bidi_helpers.Dir.RTL){processor.makeRtl(element)}else{if(dir==bidi_helpers.Dir.LTR){processor.makeLtr(element)}}}};module.process_css=function(query,classes){var proc=module.processors.css(classes);return module.process(query,proc)};module.process_style=function(query,falign){var proc=module.processors.style(falign);return module.process(query,proc)};module.style=function(query){return module.process_style(query,true)};module.css=function(query){return module.process_css(query,{rtl:"rtl",ltr:"ltr"})};module.htmlToElement=function(html){var container=document.createElement("div");container.innerHTML=html;return container};module.html_css=function(html){var container=module.htmlToElement(html);var nodes=container.querySelectorAll("*");module.css(nodes);return container.innerHTML};module.html_style=function(html){var container=module.htmlToElement(html);var nodes=container.querySelectorAll("*");module.style(nodes);return container.innerHTML};return module});</script>

</body>
</html>